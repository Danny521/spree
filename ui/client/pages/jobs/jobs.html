
<template name="jobsPage">
  {{>navbar}}
  {{setTitle "Jobs - Spark"}}
  {{log this}}
  <div class="container-fluid">
    {{#with jobs}}
      <h3>Spark Jobs</h3>
      <div>
        <strong>Total Duration:</strong> {{formatTime totalDuration}},
        <strong>Total Uptime:</strong> {{formatTime uptime}}
      </div>
      <div><strong>Scheduling Mode:</strong> {{schedulingMode env}}</div>
      <div>
        {{#if active.num}}<span id="active-link"><a href="#active"><strong>Active Jobs:</strong></a> {{active.num}}</span>{{/if}}
        {{#if completed.num}}<span id="completed-link"><a href="#completed"><strong>Completed Jobs:</strong></a> {{completed.num}}</span>{{/if}}
        {{#if failed.num}}<span id="failed-link"><a href="#failed"><strong>Failed Jobs:</strong></a> {{failed.num}}</span>{{/if}}
      </div>
      <div id="all-link"><a href="#all"><strong>All Jobs:</strong></a> {{all.num}}</div>

      {{#if showAll}}
        {{#with tableData "jobs" "All Jobs" all "all" columns true}}
          {{>objsTable this}}
        {{/with}}
      {{else}}
        {{#with tableData "jobs" "Active Jobs" active "active" columns}}
          {{>objsTable this}}
        {{/with}}
        {{#with tableData "jobs" "Completed Jobs" completed "completed" columns}}
          {{>objsTable this}}
        {{/with}}
        {{#with tableData "jobs" "Failed Jobs" failed "failed" columns}}
          {{>objsTable this}}
        {{/with}}
      {{/if}}
    {{/with}}
  </div>
</template>
