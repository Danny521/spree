
<template name="stagesTables">
  {{#with getStageData jobId}}
    {{#if active}}<span id="active-link"><a href="#active"><strong>Active Stages:</strong></a> {{active}}</span>{{/if}}
    {{#if pending}}<span id="pending-link"><a href="#pending"><strong>Pending Stages:</strong></a> {{pending}}</span>{{/if}}
    {{#if succeeded}}<span id="succeeded-link"><a href="#succeeded"><strong>Completed Stages:</strong></a> {{succeeded}}</span>{{/if}}
    {{#if skipped}}<span id="skipped-link"><a href="#skipped"><strong>Skipped Stages:</strong></a> {{skipped}}</span>{{/if}}
    {{#if failed}}<span id="failed-link"><a href="#failed"><strong>Failed Stages:</strong></a> {{failed}}</span>{{/if}}
    <div id="all-link"><a href="#all"><strong>All Stages:</strong></a> {{orZero all}}</div>

    {{#if showAll all}}
      {{#with tableData ../appId "stages" "All Stages" all "AllStages" "all" columns true ../jobId}}
        {{>objsTable this}}
      {{/with}}
    {{else}}
      {{#with tableData ../appId "stages" "Active Stages" active "ActiveStages" "active" columns false ../jobId}}
        {{>objsTable this}}
      {{/with}}
      {{#with tableData ../appId "stages" "Pending Stages" pending "PendingStages" "pending" columns false ../jobId}}
        {{>objsTable this}}
      {{/with}}
      {{#with tableData ../appId "stages" "Completed Stages" succeeded "CompletedStages" "succeeded" columns false ../jobId}}
        {{>objsTable this}}
      {{/with}}
      {{#with tableData ../appId "stages" "Failed Stages" failed "FailedStages" "failed" columns false ../jobId}}
        {{>objsTable this}}
      {{/with}}
      {{#with tableData ../appId "stages" "Skipped Stages" skipped "SkippedStages" "skipped" columns false ../jobId}}
        {{>objsTable this}}
      {{/with}}
    {{/if}}
  {{/with}}
</template>

<template name="objsTable">
  {{#if show}}
    <div>
      {{>React this}}
    </div>
  {{/if}}
</template>
