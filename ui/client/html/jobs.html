
<template name="jobsPage">
  {{>navbar}}
  {{setTitle "Jobs - Spark"}}
  {{log this}}
  <div class="container-fluid">
    <h3>Spark Jobs</h3>
    <div><strong>Total Duration:</strong> {{formatDuration app.time.start}}</div>
    <div><strong>Scheduling Mode:</strong> {{schedulingMode env}}</div>
    {{#if numActiveJobs}}<div><a href="#completed"><strong>Active Jobs:</strong></a> {{numActiveJobs}}</div>{{/if}}
    {{#if numCompletedJobs}}<div><a href="#completed"><strong>Completed Jobs:</strong></a> {{numCompletedJobs}}</div>{{/if}}
    {{#if numFailedJobs}}<div><a href="#failed"><strong>Failed Jobs:</strong></a> {{numFailedJobs}}</div>{{/if}}

    {{#if numActiveJobs}}
      <h4 id="active">Active Jobs ({{numActiveJobs}})</h4>
      {{>table data=activeJobs columns=columns}}
    {{/if}}
    {{#if numCompletedJobs}}
      <h4 id="completed">Completed Jobs ({{numCompletedJobs}})</h4>
      {{>table data=completedJobs columns=columns}}
    {{/if}}
    {{#if numFailedJobs}}
      <h4 id="failed">Failed Jobs ({{numFailedJobs}})</h4>
      {{>table data=failedJobs columns=columns}}
    {{/if}}
  </div>
</template>

<template name="jobRow-desc">
  <a href="/a/{{appId}}/job/{{id}}">{{name}}</a>
</template>
