
<template name="jobsPage">
  {{>navbar}}
  {{setTitle "Jobs - Spark"}}
  {{log this}}
  <div class="container-fluid">
    <h3>Spark Jobs</h3>
    <div><strong>Total Duration:</strong> {{formatDuration app.time.start}}</div>
    <div><strong>Scheduling Mode:</strong> {{schedulingMode env}}</div>
    {{#if active.num}}<div><a href="#completed"><strong>Active Jobs:</strong></a> {{active.num}}</div>{{/if}}
    {{#if completed.num}}<div><a href="#completed"><strong>Completed Jobs:</strong></a> {{completed.num}}</div>{{/if}}
    {{#if failed.num}}<div><a href="#failed"><strong>Failed Jobs:</strong></a> {{failed.num}}</div>{{/if}}

    {{#if active.num}}
      <h4 id="active">Active Jobs ({{active.num}})</h4>
      {{#with active.jobs}}
        {{>table data=sorted columns=columns}}
      {{/with}}
    {{/if}}
    {{#if completed.num}}
      <h4 id="completed">Completed Jobs ({{completed.num}})</h4>
      {{#with completed.jobs}}
        {{>table data=sorted columns=columns}}
      {{/with}}
    {{/if}}
    {{#if failed.num}}
      <h4 id="failed">Failed Jobs ({{failed.num}})</h4>
      {{>table data=failed.jobs columns=columns}}
    {{/if}}
  </div>
</template>

<template name="jobRow-desc">
  <a href="/a/{{appId}}/job/{{id}}">{{name}}</a>
</template>
