
<template name="jobsPage">
  {{>navbar}}
  {{setTitle "Jobs - Spark"}}
  {{log this}}
  <div class="container-fluid">
    <h3>Spark Jobs</h3>
    <div><strong>Total Duration:</strong> TODO</div>
    <div><strong>Scheduling Mode:</strong> TODO</div>
    <div><a href="#completed"><strong>Completed Jobs:</strong></a> TODO</div>

    <h4 id="completed">Completed Jobs</h4>
    <table class="table table-bordered table-striped table-condensed sortable">
      <thead>
      <tr>
        <th>Job Id</th>
        <th>Description</th>
        <th>Submitted</th>
        <th>Duration</th>
        <th>Stages: Succeeded/Total</th>
        <th>Tasks (all stages): Succeeded/Total</th>
      </tr>
      </thead>
      <tbody>
      {{#each jobs}}
      <tr class="{{rowClass this}}">
        <td>{{id}}</td>
        <td><a href="/a/{{appId}}/job/{{id}}">{{getJobName this}}</a></td>
        <td>{{formatDateTime time.start}}</td>
        <td>{{getJobDuration this}}</td>
        <td>{{> progressBar stageCounts}}</td>
        <td>{{> progressBar getTaskCounts this}}</td>
      </tr>
      {{/each}}
      </tbody>
    </table>
  </div>
</template>

