
<template name="stagesTables">
  {{log "stagesTables: " this}}
  {{#if active.num}}<div><a href="#active"><strong>Active Stages:</strong></a> {{active.num}}</div>{{/if}}
  {{#if pending.num}}<div><a href="#pending"><strong>Pending Stages:</strong></a> {{pending.num}}</div>{{/if}}
  {{#if completed.num}}<div><a href="#completed"><strong>Completed Stages:</strong></a> {{completed.num}}</div>{{/if}}
  {{#if skipped.num}}<div><a href="#skipped"><strong>Skipped Stages:</strong></a> {{skipped.num}}</div>{{/if}}
  {{#if failed.num}}<div><a href="#failed"><strong>Failed Stages:</strong></a> {{failed.num}}</div>{{/if}}

  {{#if active.num}}
    <h4 id="active">Active Stages ({{active.num}})</h4>
    {{#with active.stages}}
      {{>table data=sorted columns=columns}}
    {{/with}}
  {{/if}}
  {{#if pending.num}}
    <h4 id="pending">Pending Stages ({{pending.num}})</h4>
    {{#with pending.stages}}
      {{>table data=sorted columns=columns}}
    {{/with}}
  {{/if}}
  {{#if completed.num}}
    <h4 id="completed">Completed Stages ({{completed.num}})</h4>
    {{#with completed.stages}}
      {{>table data=sorted columns=columns}}
    {{/with}}
  {{/if}}
  {{#if failed.num}}
    <h4 id="failed">Failed Stages ({{failed.num}})</h4>
    {{#with failed.stages}}
      {{>table data=sorted columns=columns}}
    {{/with}}
  {{/if}}
  {{#if skipped.num}}
    <h4 id="skipped">Skipped Stages ({{skipped.num}})</h4>
    {{#with skipped.stages}}
      {{>table data=sorted columns=columns}}
    {{/with}}
  {{/if}}
</template>

<template name="stageRow-id">
  {{stageId}}
</template>

<template name="stageRow-desc">
  <a href="/a/{{appId}}/stage/{{stageId}}?attempt={{id}}">{{name}}</a>
</template>
